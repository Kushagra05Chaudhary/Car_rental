{% extends "base.html" %}

{% block content %}
<div class="min-h-screen bg-gray-50 flex items-center justify-center px-4 py-12">
    <div class="w-full max-w-5xl">
        <div
            class="bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100 grid grid-cols-1 lg:grid-cols-2">

            <!-- LEFT PANEL ‚Äî Car & Booking Info -->
            <div
                class="bg-gradient-to-br from-gray-900 to-gray-800 p-10 lg:p-14 flex flex-col justify-between text-white relative overflow-hidden">
                <div class="absolute -top-20 -left-20 w-64 h-64 bg-green-500 rounded-full opacity-10"></div>
                <div class="absolute -bottom-16 -right-16 w-48 h-48 bg-blue-500 rounded-full opacity-10"></div>

                <div class="relative z-10">
                    <p class="text-green-400 font-bold text-sm tracking-widest uppercase mb-4">Secure Payment</p>
                    <h1 class="text-4xl lg:text-5xl font-extrabold leading-tight mb-4">
                        Complete your booking.
                    </h1>
                    <p class="text-gray-400 text-lg leading-relaxed">
                        Review your rental details and confirm payment to lock in your reservation.
                    </p>
                </div>

                <!-- Booking Summary -->
                <div class="relative z-10 mt-10 space-y-4">
                    <div
                        class="bg-white bg-opacity-10 backdrop-blur rounded-xl p-5 border border-white border-opacity-10">
                        <div class="text-gray-400 text-sm mb-1">Vehicle</div>
                        <div class="text-xl font-bold">{{ hold.car.name }}</div>
                        <div class="text-gray-400 text-sm">{{ hold.car.brand }} ‚Ä¢ {{ hold.car.car_type }}</div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div
                            class="bg-white bg-opacity-10 backdrop-blur rounded-xl p-4 border border-white border-opacity-10">
                            <div class="text-gray-400 text-sm">Pickup</div>
                            <div class="font-bold">{{ hold.start_date|date:"M d, Y" }}</div>
                        </div>
                        <div
                            class="bg-white bg-opacity-10 backdrop-blur rounded-xl p-4 border border-white border-opacity-10">
                            <div class="text-gray-400 text-sm">Drop-off</div>
                            <div class="font-bold">{{ hold.end_date|date:"M d, Y" }}</div>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div
                            class="bg-white bg-opacity-10 backdrop-blur rounded-xl p-4 border border-white border-opacity-10">
                            <div class="text-gray-400 text-sm">Rental Days</div>
                            <div class="text-2xl font-extrabold">{{ days }}</div>
                        </div>
                        <div
                            class="bg-white bg-opacity-10 backdrop-blur rounded-xl p-4 border border-white border-opacity-10">
                            <div class="text-gray-400 text-sm">Daily Rate</div>
                            <div class="text-2xl font-extrabold">‚Çπ{{ hold.car.price_per_day }}</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT PANEL ‚Äî Payment -->
            <div class="p-10 lg:p-14 flex flex-col justify-center">
                <h2 class="text-3xl font-extrabold text-gray-900 mb-2">Payment</h2>
                <p class="text-gray-500 mb-8">Confirm and pay to finalize your reservation.</p>

                <!-- Price Breakdown -->
                <div class="bg-gray-50 rounded-xl p-6 border border-gray-200 mb-8 space-y-3">
                    <div class="flex justify-between text-gray-700">
                        <span>{{ days }} day(s) √ó ‚Çπ{{ hold.car.price_per_day }}</span>
                        <span class="font-medium">‚Çπ{{ total_price }}</span>
                    </div>
                    <div class="flex justify-between text-gray-700">
                        <span>Platform fee</span>
                        <span class="font-medium text-green-600">Free</span>
                    </div>
                    <div class="flex justify-between text-gray-700">
                        <span>Insurance</span>
                        <span class="font-medium text-green-600">Included</span>
                    </div>
                    <div class="border-t border-gray-300 pt-3 flex justify-between">
                        <span class="text-lg font-bold text-gray-900">Total</span>
                        <span class="text-2xl font-extrabold text-gray-900">‚Çπ{{ total_price }}</span>
                    </div>
                </div>

                <!-- Security Badges -->
                <div class="flex items-center gap-4 mb-6 text-sm text-gray-500">
                    <span>üîí Encrypted</span>
                    <span>üõ°Ô∏è Insured</span>
                    <span>‚úÖ Verified</span>
                </div>

                <form method="POST">
                    {% csrf_token %}
                    <button type="submit"
                        class="w-full bg-gray-900 text-white font-bold py-4 rounded-xl hover:bg-gray-800 transition-all shadow-lg text-lg">
                        üí≥ Confirm & Pay ‚Çπ{{ total_price }}
                    </button>
                </form>

                <p class="text-center text-gray-400 text-sm mt-4">By paying, you agree to our terms of service</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}